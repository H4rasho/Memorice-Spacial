(this.webpackJsonpmemorice_spacial=this.webpackJsonpmemorice_spacial||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(23),r=a.n(c),o=a(5),i=a(7),s=a(6),u=a(8),l=a.n(u),m=a(14),j=a(16),d=a.n(j),b="https://memorice-spacial.herokuapp.com/api",p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(b,"/").concat(e);return"GET"===a?fetch(n):fetch(n,{method:a,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(b,"/").concat(e),c=localStorage.getItem("token")||"";return"GET"===a?fetch(n,{method:a,headers:{"x-token":c}}):fetch(n,{method:a,headers:{"Content-type":"application/json","x-token":c},body:JSON.stringify(t)})},O="[Memorice] Cargar Naves",x=" [Memorice] active",f="[Memorice] Mostrar",g="[Memorice] Ocultar",v="[Memorice] Clea active",k="[Memorice] Play again",_="[Mostar] NavBar",y="[auth] Checking login state",S="[auth] login",w="[auth] Logout",N="[Rank] add",C="[Rank] Start",E="[Rank] TimeUpdate",R="Rank Update Best Score",T="[Rank] Start Get Rank",B="[Rank] Start Get Best Score",I="[Rank] Start Update Rank",D=" [Rank] Checking finish ",M=function(){return function(e){localStorage.clear(),e(z())}},z=function(){return{type:w}},A=function(){return{type:y}},L=function(e){return{type:S,payload:e}},P=a(13),G=function(e){return{type:C,payload:e}},q=function(e){return{type:B,payload:e}},F=function(e){return{type:T,payload:e}},J=function(e){return{type:I,payload:e}},U=a(26),H=a(2),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(P.a)(t,2),c=a[0],r=a[1],o=function(){r(e)},i=function(e){var t=e.target;r(Object(H.a)(Object(H.a)({},c),{},Object(U.a)({},t.name,t.value)))};return[c,i,o]},V=a(0),Y=function(e){var t=e.history,a=Object(o.b)(),n=X({email:"",password:""}),c=Object(P.a)(n,2),r=c[0],s=c[1],u=r.email,j=r.password,b=function(e){e.preventDefault(),a(function(e,t){return function(){var a=Object(m.a)(l.a.mark((function a(n){var c,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p("auth",{email:e,password:t},"POST");case 2:return c=a.sent,a.next=5,c.json();case 5:(r=a.sent).ok?(localStorage.setItem("token",r.token),localStorage.setItem("token-init-date",(new Date).getTime()),n(L({uid:r.uid,name:r.name}))):d.a.fire("Error",r.msg,"error");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(u,j)),a(G(new Date)),t.replace("/")};return Object(V.jsxs)("form",{className:"login-conteniner",onSubmit:b,children:[Object(V.jsx)("h1",{children:Object(V.jsxs)("b",{children:["Bienvendido a ",Object(V.jsx)("br",{})," Memorice Spacial"]})}),Object(V.jsx)("h2",{children:"Ingrese los datos"}),Object(V.jsx)("input",{type:"email",name:"email",placeholder:"Correo",value:u,onChange:s,autoComplete:"off"}),Object(V.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",value:j,onChange:s,autoComplete:"off"}),Object(V.jsx)("button",{onSubmit:b,children:"Enviar"}),Object(V.jsx)(i.b,{className:"login__link",to:"/auth/register",children:"No tienes cuenta, Registrate ac\xe1!"})]})},K=function(){var e=Object(o.b)(),t=X({name:"",email:"",password:"",password2:""}),a=Object(P.a)(t,2),n=a[0],c=a[1],r=n.name,s=n.email,u=n.password,j=n.password2,b=function(t){t.preventDefault();var a=function(e,t,a,n){return""===e||""===t||""===a||""===n?{ok:!1,msg:"Debe completar todos los campos"}:a!==n?{ok:!1,msg:"Las contrase\xf1as deben ser iguales"}:{ok:!0,msg:"succes"}}(r,s,u,j),n=a.ok,c=a.msg;!0===n?e(function(e,t,a){return function(){var n=Object(m.a)(l.a.mark((function n(c){var r,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("auth/new",{email:e,password:t,name:a},"POST");case 2:return r=n.sent,n.next=5,r.json();case 5:(o=n.sent).ok?(localStorage.setItem("token",o.token),localStorage.setItem("token-init-date",(new Date).getTime()),c(L({uid:o.uid,name:o.name}))):d.a.fire("Error",o.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(s,u,r)):d.a.fire("Error",c,"error")};return Object(V.jsx)("div",{className:"login-conteniner",children:Object(V.jsxs)("form",{onSubmit:b,children:[Object(V.jsx)("h1",{children:"Registro"}),Object(V.jsx)("h2",{children:"Ingrese los Datos"}),Object(V.jsx)("label",{children:"Nombre"}),Object(V.jsx)("input",{type:"text",name:"name",placeholder:"Ingrese nombre",onChange:c,value:r,autoComplete:"off"}),Object(V.jsx)("label",{children:"Correo"}),Object(V.jsx)("input",{type:"email",name:"email",placeholder:"xxxx@xxx.xxx",onChange:c,value:s,autoComplete:"off"}),Object(V.jsx)("label",{children:"Contrase\xf1a"}),Object(V.jsx)("input",{type:"password",name:"password",placeholder:"xxxxxxxxxx",onChange:c,value:u,autoComplete:"off"}),Object(V.jsx)("label",{children:"Confirmar Contrasea\xf1a"}),Object(V.jsx)("input",{type:"password",name:"password2",placeholder:"xxxxxxxxxx",onChange:c,value:j,autoComplete:"off"}),Object(V.jsx)("button",{onSubmit:b,children:"Enviar"}),Object(V.jsx)(i.b,{className:"login__link",to:"/auth/login",children:" Ya tengo cuenta!"})]})})},Q=function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(s.d,{children:[Object(V.jsx)(s.b,{exact:!0,path:"/auth/login",component:Y}),Object(V.jsx)(s.b,{exact:!0,path:"/auth/register",component:K}),Object(V.jsx)(s.a,{to:"/auth/login"})]})})},W=a(17),Z=a(15),$=function(e){return{type:g,payload:e}},ee=function(){return{type:v}},te=[{id:"nave01",name:"nave1",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/goliethe_wsqhbz.png"},{id:"nave02",name:"nave1",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/goliethe_wsqhbz.png"},{id:"nave03",name:"nave2",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/FenixSkin_iibtf6.png"},{id:"nave04",name:"nave2",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/FenixSkin_iibtf6.png"},{id:"nave05",name:"nave3",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/CohegisSkin_hecunl.png"},{id:"nave06",name:"nave3",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/CohegisSkin_hecunl.png"},{id:"nave07",name:"nave4",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/phobia_ffqcpb.png"},{id:"nave08",name:"nave4",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/phobia_ffqcpb.png"},{id:"nave09",name:"nave5",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/payrex_a3ojun.png"},{id:"nave10",name:"nave5",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/payrex_a3ojun.png"},{id:"nave11",name:"nave6",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/BlazeSkin_clazfz.png"},{id:"nave12",name:"nave6",modo:"oculto",img:"https://res.cloudinary.com/h4rasho/image/upload/v1628632026/memorice-spacial/BlazeSkin_clazfz.png"}],ae=function(){return Object(V.jsxs)("div",{className:"memorice__instructions",children:[Object(V.jsx)("h1",{children:"Instruciones"}),Object(V.jsx)("p",{children:"Has click en dos cartas si las cartas son iguales, has desbloquedao esa Nave Spacial, en caso contrario las cartas se ocultaran de nuevo, intenta memorizar la cartas, para desbloquearlas en el menor tiempo posible. \xbfPodras estar en el Ranking?"})]})},ne=function(){var e=Object(o.b)(),t=Object(n.useState)(0),a=Object(P.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(0),s=Object(P.a)(i,2),u=s[0],j=s[1],b=Object(o.c)((function(e){return e.memorice})),p=b.active,g=b.naveS,v=Object(o.c)((function(e){return e.rank})),_=v.start,y=v.bestScore,S=Object(o.c)((function(e){return e.ui})).navBar;Object(n.useEffect)((function(){e(function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("rank/bestScore");case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).ok?n.bestScore&&(c=n.bestScore.time,r=n.bestScore.id,t(q({time:c,id:r}))):console.log(n.msg);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(G(new Date))}),[e]);var w=function(t){if(c<2)if(t.modo="descubierto",r(c+1),e(function(e){return{type:f,payload:e}}(t)),p)if(p.name===t.name){if(e(ee()),r(0),j(u+1),u+1===g.length/2){var a=new Date,n=parseInt(a.getTime()-_.getTime())/1e3;if(d.a.fire("Felicitaciones",'<h1> Has ganado en <b style="color:red">'.concat(n,"<b> seg </h1>"),"success"),y){if(n<y.time){var o=y.id;e(function(e,t){return function(){var a=Object(m.a)(l.a.mark((function a(n){var c,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("rank/update/".concat(t)),a.next=3,h("rank/update/".concat(t),{time:e},"PUT");case 3:return c=a.sent,a.next=6,c.json();case 6:(r=a.sent).ok?(n(J(e)),console.log("updated")):console.log(r.msg);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,o))}}else e(function(e){return function(){var t=Object(m.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("rank",{time:e},"POST");case 2:return n=t.sent,t.next=5,n.json();case 5:(c=t.sent).ok?console.log("agregado"):console.log(c.msg);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}}else setTimeout((function(){t.modo="oculto",e($(t)),p.modo="oculto",e($(p)),e(ee()),r(0)}),1e3);else e(function(e){return{type:x,payload:e}}(t))};return Object(V.jsxs)("div",{className:"".concat(S?"memorice__juego-navBar":"memorice__juego-noNavBAr"," memorice__juego"),children:[Object(V.jsx)(ae,{}),Object(V.jsxs)("div",{className:"memorice__juego-cards",children:[g.map((function(e){return"oculto"===e.modo?Object(V.jsx)("div",{className:"memorice__card memorice__card-img-oculta ",onClick:function(t){return w(e)}},e.id):Object(V.jsx)("div",{className:"memorice__card",children:Object(V.jsx)("img",{className:"memorice__card-img",src:e.img,alt:"nashor spacial"})},e.id)})),Object(V.jsx)("div",{className:"memorice__button",children:Object(V.jsx)(Z.a,{className:"memorice__button-play-again",icon:W.b,size:"2x",onClick:function(){console.log("click"),r(0),j(0),te.map((function(e){return e.modo="oculto"})),e({type:k}),e(G(new Date)),e(function(e){return{type:O,payload:e}}(te.sort((function(){return Math.random()-.5}))))}})}),Object(V.jsx)("h4",{className:"memorice__button-title",children:"Jugar otra vez"})]})]})},ce=function(){var e=Object(o.b)();Object(n.useEffect)((function(){e(function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("rank");case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).ok?t(F(n.ranks)):console.log(n.msg);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e({type:D})}),[e]);var t=Object(o.c)((function(e){return e.ui})).navBar,a=Object(o.c)((function(e){return e.rank})).ranking;return Object(V.jsxs)("div",{className:"".concat(t?"memorice__juego-navBar":"memorice__juego-noNavBAr"," rank__container"),children:[Object(V.jsx)("h1",{children:"Top 10"}),a.length>0?Object(V.jsxs)("table",{className:"rank__table",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Name"}),Object(V.jsx)("th",{children:"Time  [s]"})]})}),Object(V.jsx)("tbody",{children:a.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[" ",e.user.name," "]}),Object(V.jsxs)("td",{children:[" ",e.time," "]})]},e.user._id)}))})]}):Object(V.jsx)("h2",{children:"No Rank encontrado"})]})},re=a(33),oe=function(){return Object(V.jsxs)("footer",{className:"memorice__footer",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h4",{className:"memorice__autor",children:"Desarrollado por"}),Object(V.jsx)("h5",{className:"memorice__autor",children:"H4rasho"}),Object(V.jsx)(Z.a,{icon:re.b,size:"2x"})," ",Object(V.jsx)("span",{children:"  Twitter"})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("h4",{className:"memorice__autor",children:"Dise\xf1o de naves"}),Object(V.jsx)("h5",{className:"memorice__autor",children:"Maximus Games Studios"}),Object(V.jsx)(Z.a,{icon:re.a,size:"2x"})," ",Object(V.jsx)("span",{children:"  Instagram"})]})]})},ie=function(){var e=Object(o.c)((function(e){return e.ui})).navBar,t=Object(o.b)();return Object(V.jsxs)("header",{className:"memorice__header",children:[Object(V.jsx)("img",{src:"https://cdn.discordapp.com/attachments/823026225194336286/870417421859684392/120x120.png",className:"memorice__header-logo",alt:"nashor spacial"}),Object(V.jsx)("h1",{className:"memorice__header-title",children:"MEMORICE SPACIAL"}),Object(V.jsx)(Z.a,{icon:W.a,size:"2x",onClick:function(){t({type:_,payload:!e})},className:"memorice__icon-header"}),Object(V.jsx)("nav",{className:"memorice__nav-laptop",children:Object(V.jsxs)("ul",{children:[Object(V.jsx)(i.b,{className:"memorice__nav-laptop-Link",to:"/",children:"Inicio"}),Object(V.jsx)(i.b,{className:"memorice__nav-laptop-Link",to:"/rank",children:"Rank"}),Object(V.jsxs)("button",{className:"memorice__button-NavBar",onClick:function(){t(M())},children:[Object(V.jsx)(Z.a,{icon:W.c}),Object(V.jsx)("span",{children:" Salir "})]})]})})]})},se=function(){var e=Object(o.c)((function(e){return e.ui})).navBar,t=Object(o.b)();return Object(V.jsx)("nav",{className:"".concat(e?"memorice__NavBar":"dispay-none"),children:Object(V.jsxs)("ul",{children:[Object(V.jsx)(i.b,{className:"memorice__nav-Link",to:"/",children:"Inicio"}),Object(V.jsx)(i.b,{className:"memorice__nav-Link",to:"/rank",children:"Rank"}),Object(V.jsx)(i.b,{className:"memorice__nav-Link",to:"/",onClick:function(){t(M())},children:"Salir"})]})})},ue=function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{className:"memorice__container",children:[Object(V.jsx)(ie,{}),Object(V.jsx)(se,{}),Object(V.jsxs)(s.d,{children:[Object(V.jsx)(s.b,{exact:!0,path:"/",component:ne}),Object(V.jsx)(s.b,{exact:!0,path:"/rank",component:ce}),Object(V.jsx)(s.a,{to:"/"})]}),Object(V.jsx)(oe,{})]})})},le=a(27),me=["isAuthenticated","component"],je=function(e){var t=e.isAuthenticated,a=e.component,n=Object(le.a)(e,me);return Object(V.jsx)(s.b,Object(H.a)(Object(H.a)({},n),{},{component:function(e){return t?Object(V.jsx)(a,Object(H.a)({},e)):Object(V.jsx)(s.a,{to:"/auth/login"})}}))},de=["isAuthenticated","component"],be=function(e){var t=e.isAuthenticated,a=e.component,n=Object(le.a)(e,de);return Object(V.jsx)(s.b,Object(H.a)(Object(H.a)({},n),{},{component:function(e){return t?Object(V.jsx)(s.a,{to:"/"}):Object(V.jsx)(a,Object(H.a)({},e))}}))};function pe(){var e=Object(o.c)((function(e){return e.auth})),t=e.checking,a=e.uid,c=Object(o.b)();return Object(n.useEffect)((function(){c(function(){var e=Object(m.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("auth/renew");case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).ok?(localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(L({uid:n.uid,name:n.name}))):(t(A()),console.log(n.msg));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c]),t?Object(V.jsx)("h5",{children:"Espere"}):Object(V.jsx)(i.a,{children:Object(V.jsx)("div",{children:Object(V.jsxs)(s.d,{children:[Object(V.jsx)(be,{path:"/auth",component:Q,isAuthenticated:!!a}),Object(V.jsx)(je,{path:"/",component:ue,isAuthenticated:!!a})]})})})}var he=a(21),Oe=a(36),xe={checking:!0},fe={naveS:te.sort((function(){return Math.random()-.5})),active:null},ge=a(37),ve={ranking:[],bestScore:null,chekingRank:!0},ke={navBar:!1},_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||he.c,ye=Object(he.b)({memorice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(H.a)(Object(H.a)({},e),{},{active:{id:t.payload.id,name:t.payload.name,img:t.payload.img}});case f:return Object(H.a)(Object(H.a)({},e),{},{naveS:e.naveS.map((function(e){return e.id===t.payload?t.payload:e}))});case g:return Object(H.a)(Object(H.a)({},e),{},{naveS:e.naveS.map((function(e){return e.id===t.payload.id?t.payload:e}))});case v:return Object(H.a)(Object(H.a)({},e),{},{active:null});case k:return fe;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(H.a)(Object(H.a)({},e),{},{navBar:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(H.a)(Object(H.a)({},e),{},{checking:!1},t.payload);case y:return Object(H.a)(Object(H.a)({},e),{},{checking:!1});case R:return Object(H.a)(Object(H.a)({},e),{},{user:Object(H.a)(Object(H.a)({},e.user),{},{bestScore:t.payload})});case w:return{checking:!1};default:return e}},rank:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(H.a)(Object(H.a)({},e),{},{ranking:[].concat(Object(ge.a)(e.ranking),[t.payload])});case C:return Object(H.a)(Object(H.a)({},e),{},{start:t.payload});case E:return Object(H.a)(Object(H.a)({},e),{},{rank:e.rank.map((function(e){return e.name===t.payload.name?e.time=t.payload.time:e}))});case T:return Object(H.a)(Object(H.a)({},e),{},{ranking:t.payload});case B:return Object(H.a)(Object(H.a)({},e),{},{bestScore:t.payload});case D:return Object(H.a)(Object(H.a)({},e),{},{chekingRank:!1});case I:return Object(H.a)(Object(H.a)({},e),{},{bestScore:t.payload});default:return e}}}),Se=Object(he.d)(ye,_e(Object(he.a)(Oe.a))),we=(a(61),function(){return Object(V.jsx)(o.a,{store:Se,children:Object(V.jsx)(pe,{})})});r.a.render(Object(V.jsx)(we,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.7af70e7f.chunk.js.map